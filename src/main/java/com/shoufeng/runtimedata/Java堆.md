# Java堆

Java堆是Java虚拟机所管理的内存中最大的一块。Java堆是被所有**线程共享**的一块内存区域，在Java虚拟机启动时创建。此内存的唯一目的就是**存放对象实例**，几乎所有的对象实例都在这里分配内存。

注意：逃逸分析技术（对象实例不在Java堆中）

Java堆是**垃圾收集器**管理的**主要区域**，因此很多时候也被称为“**gc堆**”。

从**内存回收**的角度看：**Eden空间**、**From Survivor空间**、**To Survivor空间**等

从**内存分配**的角度看：线程共享的Java堆中可能划分出多个线程私有的**分配缓冲区TLAB**（Thread Local Allocation Buffer）。

**-Xms20M** 初始堆大小。默认值：物理内存的1/64(<1GB)。默认空余堆内存小于40%时，JVM就会增大堆直到-Xmx的最大限制。

**-Xmx20M** 最大堆大小。默认值：物理内存的1/4(<1GB)。默认空余堆内存大于70%时，JVM会减少堆直到 -Xms的最小限制。

